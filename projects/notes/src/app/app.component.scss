@use '@angular/material' as mat;

:host {
  @include mat.toolbar-overrides((
    container-background-color: var(--mat-sys-primary-container),
    container-text-color: var(--mat-sys-on-primary-container),
    // Make toolbar less tall
    standard-height: 42px,
    mobile-height: 42px,
  ));

  @include mat.icon-button-overrides((
    icon-color: var(--mat-sys-on-primary-container),
  ));

  @include mat.sidenav-overrides((
    container-width: auto,
    container-shape: 8px,
  ));

  .app-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    width: 100%;
  }

  .toolbar {
    flex: 0 0 auto; // Don't grow/shrink, use natural height
  }

  .fill-remaining-space {
    flex-grow: 1; // Grow to fill available space
  }

  .sidenav-container {
    flex: 1; // Take remaining space
    width: auto;

    ::ng-deep .mat-drawer {
      max-width: 410px;
      width: auto;
    }
  }

  .collapsible {
    margin-bottom: 1rem;

    .collapsible-summary {
      display: flex;
      align-items: center;
      padding: 0.5rem 1rem;
      cursor: pointer;
      list-style: none;

      &:hover {
        background-color: var(--mat-sys-surface-variant);
        color: var(--mat-sys-on-surface-variant);
      }

      &::-webkit-details-marker {
        display: none; // Hide default arrow
      }

      .section-header {
        font-size: 1.25rem;
        font-weight: 500;
        margin: 0;
        flex: 1;
      }

      // Custom arrow
      &::after {
        content: 'expand_more';
        font-family: 'Material Symbols Outlined';
        transition: transform 300ms ease-in-out;
      }
    }

    &[open] .collapsible-summary::after {
      transform: rotate(180deg);
    }

    .collapsible-content {
      padding-inline: 1rem;
      animation: slideDown 300ms ease-in-out;

      mat-divider {
        padding-bottom: 1rem;
      }
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  .outlet {
    margin: 0;
  }
}

@media print {
  .mat-drawer-container,
  .mat-drawer-content {
    overflow: visible !important;
  }
}