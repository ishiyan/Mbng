<mat-form-field style="width:330px">
  @if (labelText.length > 0) {
    <mat-label>{{labelText}}</mat-label>
  }
  <mat-select style="margin-top: 8px;" [(value)]="selected" (selectionChange)="changed(selected)">
    <mat-select-trigger>
      <mb-sparkline [width]="160" [height]="24" [data]="selected.data" [configuration]="configFill">
      </mb-sparkline> {{selected.mnemonic}}
    </mat-select-trigger>
    <mat-optgroup label="bar">
      @for (series of barSeriesArray; track series.data) {
        <mat-option [value]="series">
          <mb-sparkline [width]="160" [height]="24" [data]="series.data" [configuration]="configFill"></mb-sparkline>
          {{series.mnemonic}}
        </mat-option>
      }
    </mat-optgroup>
    <mat-optgroup label="scalar">
      @for (series of scalarSeriesArray; track series.data) {
        <mat-option [value]="series">
          <mb-sparkline [width]="160" [height]="24" [data]="series.data" [configuration]="configFill"></mb-sparkline>
          {{series.mnemonic}}
        </mat-option>
      }
    </mat-optgroup>
    <mat-optgroup label="trade">
      @for (series of tradeSeriesArray; track series.data) {
        <mat-option [value]="series">
          <mb-sparkline [width]="160" [height]="24" [data]="series.data" [configuration]="configFill"></mb-sparkline>
          {{series.mnemonic}}
        </mat-option>
      }
    </mat-optgroup>
    <mat-optgroup label="quote">
      @for (series of quoteSeriesArray; track series.data) {
        <mat-option [value]="series">
          <mb-sparkline [width]="160" [height]="24" [data]="series.data" [configuration]="configFill"></mb-sparkline>
          {{series.mnemonic}}
        </mat-option>
      }
    </mat-optgroup>
  </mat-select>
</mat-form-field>