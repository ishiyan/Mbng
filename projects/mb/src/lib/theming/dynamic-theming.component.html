<div class="wrapper">
  @if (showPresets() && presets().length > 0) {
  <div class="presets-section">
    <div class="presets-grid">
      @for (preset of presets(); track preset.name) {
        <button class="preset-button" (click)="applyPreset(preset)">
          <div class="preset-colors">
            <div class="color-swatch primary" [style.background-color]="preset.primaryColor"></div>
            <div class="color-swatch secondary" [style.background-color]="preset.secondaryColor"></div>
            <div class="color-swatch tertiary" [style.background-color]="preset.tertiaryColor"></div>
          </div>
          @if (preset.displayName && preset.displayName.length > 0) {
            <span class="preset-name">{{ preset.displayName }}</span>
          }
        </button>
      }
    </div>
  </div>
  }

  @if (showGenerator()) {
  <div class="color-section">
    <label>Primary</label>
  <mb-color-disc-picker
    [hexValue]="dtsSvc.primaryColor()"
    (hexValueChange)="dtsSvc.primaryColor.set($event)"
    [showValue]="false"
    [closeOnSelect]="false"
    [diameter]="240"
    [autoResolution]="true">
  </mb-color-disc-picker>
    @if (showTertiary()) {
      <label>Tertiary</label>
      <mat-slide-toggle [(ngModel)]="dtsSvc.useTertiaryColor" />
      @if (dtsSvc.useTertiaryColor()) {
        <mb-color-disc-picker 
          [hexValue]="dtsSvc.tertiaryColor()"
          (hexValueChange)="dtsSvc.tertiaryColor.set($event)"
          [showValue]="false"
          [closeOnSelect]="false"
          [diameter]="240"
          [autoResolution]="true">
        </mb-color-disc-picker>
      }
    }
  </div>

  @if (showContrast()) {
  <div class="contrast-section">
    <div class="slider-labels">
      <label>Contrast</label>
      <label>{{slider.value}}</label>
    </div>
    <div class="slider-container">
      <mat-slider id="contrast-slider" [min]="-1" [step]="0.1" [max]="1" [discrete]="false" [showTickMarks]="true">
        <input matSliderThumb [(ngModel)]="dtsSvc.contrastLevel" #slider>
      </mat-slider>
    </div>
  </div>
  }

  @if (showVariant()) {
  <div class="select-section">
    <label>Variant</label>
    <mat-form-field class="variant-select" appearance="fill">
      <mat-select [(ngModel)]="dtsSvc.variant">
        <mat-option [value]="DynamicThemingVariant.Monochrome">Monochrome</mat-option>
        <mat-option [value]="DynamicThemingVariant.Neutral">Neutral</mat-option>
        <mat-option [value]="DynamicThemingVariant.TonalSpot">Tonal Spot</mat-option>
        <mat-option [value]="DynamicThemingVariant.Vibrant">Vibrant</mat-option>
        <mat-option [value]="DynamicThemingVariant.Expressive">Expressive</mat-option>
        <mat-option [value]="DynamicThemingVariant.Fidelity">Fidelity</mat-option>
        <mat-option [value]="DynamicThemingVariant.Content">Content</mat-option>
        <mat-option [value]="DynamicThemingVariant.Rainbow">Rainbow</mat-option>
        <mat-option [value]="DynamicThemingVariant.FruitSalad">Fruit Salad</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  }

  @if (showSpecVersion()) {
  <div class="select-section">
    <label>Spec version</label>
    <mat-form-field class="spec-select" appearance="fill">
      <mat-select [(ngModel)]="dtsSvc.specVersion">
        <mat-option [value]="'2025'">2025</mat-option>
        <mat-option [value]="'2021'">2021</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  }

  @if (showPlatform()) {
  <div class="select-section">
    <label>Platform</label>
    <mat-form-field class="spec-select" appearance="fill">
      <mat-select [(ngModel)]="dtsSvc.platform">
        <mat-option [value]="'phone'">Phone</mat-option>
        <mat-option [value]="'watch'">Watch</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  }

  @if (showRememberTheme()) {
  <div class="remember-section">
    <label>Remember color theme settings</label>
    <mat-slide-toggle [(ngModel)]="dtsSvc.rememberTheme" />
  </div>
  }
  }
</div>